[gd_scene load_steps=14 format=3 uid="uid://dn48uh7ua5u5s"]

[ext_resource type="Script" uid="uid://dio3qtrcp825d" path="res://Scenes/Player/player.gd" id="1_a3d8c"]
[ext_resource type="Resource" uid="uid://dcimg2ygmt2tb" path="res://Resources/PlayerStats.tres" id="2_mtuoh"]
[ext_resource type="Texture2D" uid="uid://iba2jyl4suka" path="res://Assets/Characters/Viola.png" id="3_jhyir"]
[ext_resource type="Script" uid="uid://bo41phaceogjp" path="res://Scenes/Player/state_machine.gd" id="4_0u5uq"]
[ext_resource type="Script" uid="uid://drfbjshd6s8ak" path="res://Scenes/Player/attack.gd" id="5_dd0ac"]
[ext_resource type="Script" uid="uid://dsv7af2g6e4qb" path="res://Scenes/Player/movement.gd" id="5_htcer"]
[ext_resource type="Script" uid="uid://cwwprb25yg4ma" path="res://Scenes/Player/PlayerIdle.gd" id="5_jhyir"]
[ext_resource type="Texture2D" uid="uid://ddcj103clnjb2" path="res://Assets/Temp/muzzle_flash.png" id="7_0u5uq"]
[ext_resource type="Texture2D" uid="uid://ddwimkutpx4ga" path="res://Assets/UI/HPbar1.png" id="8_gk6dx"]
[ext_resource type="Texture2D" uid="uid://bhl5h4lyc40g7" path="res://Assets/UI/HPbar2.png" id="9_jhyir"]

[sub_resource type="CircleShape2D" id="CircleShape2D_a3d8c"]
radius = 20.0

[sub_resource type="Animation" id="Animation_74mp2"]
resource_name = "idle"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_oikmp"]
_data = {
&"idle": SubResource("Animation_74mp2")
}

[node name="Player" type="CharacterBody2D" groups=["Player"]]
collision_mask = 15
motion_mode = 1
script = ExtResource("1_a3d8c")
stats = ExtResource("2_mtuoh")

[node name="PlayerSprite" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(0, -32)
texture = ExtResource("3_jhyir")
hframes = 5
vframes = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -17)
shape = SubResource("CircleShape2D_a3d8c")

[node name="StateMachine" type="Node2D" parent="."]
script = ExtResource("4_0u5uq")

[node name="Idle" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("player", "animator")]
script = ExtResource("5_jhyir")
player = NodePath("../..")
animator = NodePath("../../AnimationPlayer")

[node name="Attack" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("5_dd0ac")
player = NodePath("../..")

[node name="Movement" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("5_htcer")
player = NodePath("../..")

[node name="Dash" type="Node2D" parent="StateMachine"]

[node name="Death" type="Node2D" parent="StateMachine"]

[node name="CrosshairMark" type="Marker2D" parent="."]
unique_name_in_owner = true
position = Vector2(0, -19)

[node name="Crosshair" type="Sprite2D" parent="CrosshairMark"]
unique_name_in_owner = true
position = Vector2(40, 0)
scale = Vector2(0.3125, 0.3125)
texture = ExtResource("7_0u5uq")

[node name="UI" type="CanvasLayer" parent="."]

[node name="HealthBar" type="TextureProgressBar" parent="UI"]
unique_name_in_owner = true
offset_left = 5.0
offset_top = 6.0
offset_right = 181.0
offset_bottom = 23.0
value = 100.0
rounded = true
texture_under = ExtResource("8_gk6dx")
texture_progress = ExtResource("9_jhyir")
tint_progress = Color(1, 0.266667, 1, 1)

[node name="AttackSpeed" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 0.3

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_oikmp")
}
